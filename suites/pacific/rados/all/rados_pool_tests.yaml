tests:
  - test:
      name: Replicated pool LC
      module: rados_prep.py
      polarion-id: CEPH-83571632
      config:
        replicated_pool:
          create: true
          pool_name: test_re_pool
          pg_num: 64
          size: 2
          disable_pg_autoscale: true
          rados_write_duration: 50
          rados_read_duration: 30
        set_pool_configs:
          pool_name: test_re_pool
          configurations:
            pg_num: 32
            pgp_num: 32
            pg_autoscale_mode: 'on'
            compression_mode: aggressive
            compression_algorithm: zlib
        delete_pools:
          - test_re_pool
      desc: Create replicated pools and run IO

  - test:
      name: LRC EC pool LC
      module: rados_prep.py
      polarion-id: CEPH-83571632
      config:
        ec_pool:
          create: true
          pool_name: test_ec_pool
          pg_num: 64
          k: 4
          m: 2
          l: 3
          plugin: lrc
          disable_pg_autoscale: true
          rados_write_duration: 50
          rados_read_duration: 30
        set_pool_configs:
          pool_name: test_ec_pool
          configurations:
            pg_num: 32
            pgp_num: 32
            pg_autoscale_mode: 'on'
            compression_mode: force
            compression_algorithm: snappy
        delete_pools:
          - test_ec_pool
      desc: Create LRC EC pools and run IO

  - test:
      name: EC pool with Overwrites
      module: rados_prep.py
      polarion-id: CEPH-83571730
      config:
        ec_pool:
          create: true
          pool_name: ec_pool_overwrite
          app_name: rbd
          erasure_code_use_overwrites: "true"
          k: 3
          m: 2
          plugin: jerasure
          rados_write_duration: 50
          rados_read_duration: 30
          test_overwrites_pool: true
          metadata_pool: re_pool_overwrite
          image_name: image_ec_pool
          image_size: 100M
        delete_pools:
          - ec_pool_overwrite
          - re_pool_overwrite
      desc: EC pool with Overwrites & create RBD pool

  - test:
      name: EC Pool Recovery Improvement
      module: pool_tests.py
      polarion-id: CEPH-83573852
      config:
        ec_pool_recovery_improvement:
          create: true
          pool_name: ec_pool_recovery
          k: 3
          m: 2
          plugin: jerasure
          rados_write_duration: 200
          rados_read_duration: 50
          crush-failure-domain: osd
          osd_max_backfills: 16
          osd_recovery_max_active: 16
          delete_pool: true
      desc: Verify Recovery of EC pool with only "k" shards available

